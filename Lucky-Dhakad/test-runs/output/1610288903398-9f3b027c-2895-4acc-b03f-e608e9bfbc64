Setting up pitt.search.semanticvectors.VectorStoreReaderLuceneTest
finished writing vectors.
Setting up pitt.search.semanticvectors.VectorStoreReaderLuceneTest
finished writing vectors.
Found vector for 'abraham'
Setting up pitt.search.semanticvectors.VectorStoreReaderLuceneTest
finished writing vectors.
Setting up pitt.search.semanticvectors.VectorStoreReaderLuceneTest
finished writing vectors.
Setting up pitt.search.semanticvectors.VectorStoreReaderLuceneTest
finished writing vectors.
Setting up pitt.search.semanticvectors.VectorStoreReaderLuceneTest
finished writing vectors.
Setting up pitt.search.semanticvectors.VectorStoreReaderLuceneTest
finished writing vectors.
Setting up pitt.search.semanticvectors.VectorStoreReaderLuceneTest
finished writing vectors.
Setting dimension of target config to: 200
Setting dimension of target config to: 3
Writing term vectors to tmp/testtermvectors.bin
About to write 2 vectors of dimension 3 to Lucene format file: tmp/testtermvectors.bin ... finished writing vectors.
/home/lichengpeng/test/automated_script/Lucky-Dhakad/semanticvectors already contains positional_index. Please delete if you want to run from clean.
/home/lichengpeng/test/automated_script/Lucky-Dhakad/semanticvectors already contains predication_index. Please delete if you want to run from clean.
Seedlength: 10, Dimension: 200, Vector type: REAL, Minimum frequency: 0, Maximum frequency: 2147483647, Number non-alphabet characters: 2147483647, Contents fields are: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating term vectors as superpositions of elemental document vectors ... 
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating semantic term vectors ...
There are 1368 terms (and 21 docs).
Training term vectors for field contents
Processed 0 terms ... Processed 1000 terms ... 
Created 1368 term vectors.
Initializing new document vector store ... 
Building document vectors ... Processed 0 terms ... Processed 1000 terms ... 
Normalizing doc vectors ...
Writing term vectors to termvectors
About to write 1368 vectors of dimension 200 to Lucene format file: termvectors.bin ... finished writing vectors.
Writing doc vectors to docvectors
About to write 21 vectors of dimension 200 to Lucene format file: docvectors.bin ... finished writing vectors.
Opening query vector store from file: termvectors.bin
Opening query vector store from file: termvectors.bin
Opening query vector store from file: termvectors.bin
Opening query vector store from file: termvectors.bin
Opening query vector store from file: termvectors.bin
Jan 10, 2021 10:28:24 PM pitt.search.semanticvectors.Search runSearch
WARNING: Couldn't open Lucene index at permutation_index. Will continue without term weighting.
Searching term vectors, searchtype SUM
Jan 10, 2021 10:28:24 PM pitt.search.semanticvectors.Search runSearch
WARNING: Couldn't open Lucene index at permutation_index. Will continue without term weighting.
Searching term vectors, searchtype SUM
Jan 10, 2021 10:28:24 PM pitt.search.semanticvectors.Search runSearch
WARNING: Couldn't open Lucene index at permutation_index. Will continue without term weighting.
Searching term vectors, searchtype SUM
Jan 10, 2021 10:28:24 PM pitt.search.semanticvectors.Search runSearch
WARNING: Couldn't open Lucene index at permutation_index. Will continue without term weighting.
Searching term vectors, searchtype SUM
Found vector for 'mary'
Jan 10, 2021 10:28:24 PM pitt.search.semanticvectors.Search runSearch
WARNING: Couldn't open Lucene index at permutation_index. Will continue without term weighting.
Searching term vectors, searchtype SUM
Found vector for 'jesus'
Found vector for 'word'
Found vector for 'peter'
Found vector for 'light'
Building positional index, Lucene index: positional_index, Seedlength: 10, Vector length: 200, Vector type: REAL, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
Normalizing and writing elemental vectors to elementalvectors
About to write 1368 vectors of dimension 200 to Lucene format file: elementalvectors.bin ... finished writing vectors.
About to write 1368 vectors of dimension 200 to Lucene format file: permtermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: elementalvectors.bin
Opening search vector store from file: permtermvectors.bin
Searching term vectors, searchtype PERMUTATION
Found vector for 'simon'
Building positional index, Lucene index: positional_index, Seedlength: 10, Vector length: 200, Vector type: COMPLEX, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
Normalizing and writing elemental vectors to elementalvectors
About to write 1368 vectors of dimension 200 to Lucene format file: elementalvectors.bin ... finished writing vectors.
About to write 1368 vectors of dimension 200 to Lucene format file: permtermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: elementalvectors.bin
Setting vectortype of target config to: COMPLEX
Opening search vector store from file: permtermvectors.bin
Searching term vectors, searchtype PERMUTATION
Found vector for 'simon'
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at pitt.search.semanticvectors.integrationtests.RegressionTests.testBuildAndSearchComplexPermutationIndex(RegressionTests.java:262)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at edu.illinois.cs.testrunner.execution.JUnitTestRunner.runChild(JUnitTestRunner.java:333)
	at edu.illinois.cs.testrunner.execution.JUnitTestRunner.run(JUnitTestRunner.java:109)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:160)
	at edu.illinois.cs.testrunner.execution.JUnitTestExecutor.execute(JUnitTestExecutor.java:292)
	at edu.illinois.cs.testrunner.execution.JUnitTestExecutor.execute(JUnitTestExecutor.java:328)
	at edu.illinois.cs.testrunner.execution.JUnitTestExecutor.executeWithJUnit4Runner(JUnitTestExecutor.java:366)
	at edu.illinois.cs.testrunner.execution.JUnitTestExecutor.runOrder(JUnitTestExecutor.java:47)
	at edu.illinois.cs.testrunner.execution.Executor$.$anonfun$run$1(Executor.scala:30)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:12)
	at scala.util.Try$.apply(Try.scala:209)
	at edu.illinois.cs.testrunner.execution.Executor$.run(Executor.scala:28)
	at edu.illinois.cs.testrunner.execution.Executor$.main(Executor.scala:18)
	at edu.illinois.cs.testrunner.execution.Executor.main(Executor.scala)
Building positional index, Lucene index: positional_index, Seedlength: 10, Vector length: 200, Vector type: COMPLEX, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
About to write 1368 vectors of dimension 200 to Lucene format file: termtermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: termtermvectors.bin
Setting vectortype of target config to: COMPLEX
Searching term vectors, searchtype SUM
Found vector for 'simon'
Seedlength: 4096, Dimension: 8192, Vector type: BINARY, Minimum frequency: 0, Maximum frequency: 2147483647, Number non-alphabet characters: 2147483647, Contents fields are: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating term vectors as superpositions of elemental document vectors ... 
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating semantic term vectors ...
There are 1368 terms (and 21 docs).
Training term vectors for field contents
Processed 0 terms ... Processed 1000 terms ... 
Created 1368 term vectors.
Initializing new document vector store ... 
Building document vectors ... Processed 0 terms ... Processed 1000 terms ... 
Normalizing doc vectors ...
Writing term vectors to termvectors
About to write 1368 vectors of dimension 8192 to Lucene format file: termvectors.bin ... finished writing vectors.
Writing doc vectors to docvectors
About to write 21 vectors of dimension 8192 to Lucene format file: docvectors.bin ... finished writing vectors.
Opening query vector store from file: termvectors
Setting dimension of target config to: 8192
Setting vectortype of target config to: BINARY
Searching term vectors, searchtype SUM
Found vector for 'peter'
Seedlength: 10, Dimension: 200, Vector type: REAL, Minimum frequency: 0, Maximum frequency: 2147483647, Number non-alphabet characters: 2147483647, Contents fields are: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating term vectors as superpositions of elemental document vectors ... 
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating semantic term vectors ...
There are 1368 terms (and 21 docs).
Training term vectors for field contents
Processed 0 terms ... Processed 1000 terms ... 
Created 1368 term vectors.
Initializing new document vector store ... 
Building document vectors ... Processed 0 terms ... Processed 1000 terms ... 
Normalizing doc vectors ...
Writing term vectors to termvectors
About to write 1368 vectors of dimension 200 to Lucene format file: termvectors.bin ... finished writing vectors.
Writing doc vectors to docvectors
About to write 21 vectors of dimension 200 to Lucene format file: docvectors.bin ... finished writing vectors.
Opening query vector store from file: termvectors.bin
Opening search vector store from file: docvectors.bin
Searching term vectors, searchtype SUM
Found vector for 'peter'
Building positional index, Lucene index: positional_index, Seedlength: 4096, Vector length: 8192, Vector type: BINARY, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
About to write 1368 vectors of dimension 8192 to Lucene format file: termtermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: termtermvectors.bin
Setting dimension of target config to: 8192
Setting vectortype of target config to: BINARY
Searching term vectors, searchtype SUM
Found vector for 'simon'
Building positional index, Lucene index: positional_index, Seedlength: 10, Vector length: 200, Vector type: REAL, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
About to write 1368 vectors of dimension 200 to Lucene format file: termtermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: termtermvectors.bin
Searching term vectors, searchtype SUM
Found vector for 'simon'
Seedlength: 10, Dimension: 200, Vector type: REAL, Minimum frequency: 0, Maximum frequency: 2147483647, Number non-alphabet characters: 2147483647, Contents fields are: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating term vectors as superpositions of elemental document vectors ... 
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating semantic term vectors ...
There are 1368 terms (and 21 docs).
Training term vectors for field contents
Processed 0 terms ... Processed 1000 terms ... 
Created 1368 term vectors.
Initializing new document vector store ... 
Building document vectors ... Processed 0 terms ... Processed 1000 terms ... 
Normalizing doc vectors ...
Writing term vectors to termvectors
About to write 1368 vectors of dimension 200 to Lucene format file: termvectors.bin ... finished writing vectors.
Writing doc vectors to docvectors
About to write 21 vectors of dimension 200 to Lucene format file: docvectors.bin ... finished writing vectors.
Opening query vector store from file: termvectors.bin
Searching term vectors, searchtype SUM
Found vector for 'peter'
Building positional index, Lucene index: positional_index, Seedlength: 1024, Vector length: 2048, Vector type: BINARY, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
About to write 1368 vectors of dimension 2048 to Lucene format file: drxntermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: drxntermvectors.bin
Setting dimension of target config to: 2048
Setting vectortype of target config to: BINARY
Searching term vectors, searchtype SUM
Found vector for 'simon'
Seedlength: 10, Dimension: 200, Vector type: COMPLEX, Minimum frequency: 0, Maximum frequency: 2147483647, Number non-alphabet characters: 2147483647, Contents fields are: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating term vectors as superpositions of elemental document vectors ... 
Initialized LuceneUtils from Lucene index in directory: positional_index
Creating semantic term vectors ...
There are 1368 terms (and 21 docs).
Training term vectors for field contents
Processed 0 terms ... Processed 1000 terms ... 
Created 1368 term vectors.
Initializing new document vector store ... 
Building document vectors ... Processed 0 terms ... Processed 1000 terms ... 
Normalizing doc vectors ...
Writing term vectors to termvectors
About to write 1368 vectors of dimension 200 to Lucene format file: termvectors.bin ... finished writing vectors.
Writing doc vectors to docvectors
About to write 21 vectors of dimension 200 to Lucene format file: docvectors.bin ... finished writing vectors.
Opening query vector store from file: termvectors
Setting vectortype of target config to: COMPLEX
Searching term vectors, searchtype SUM
Found vector for 'peter'
Building positional index, Lucene index: positional_index, Seedlength: 10, Vector length: 200, Vector type: REAL, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
About to write 1368 vectors of dimension 200 to Lucene format file: drxntermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: drxntermvectors.bin
Searching term vectors, searchtype SUM
Found vector for 'simon'
Building positional index, Lucene index: positional_index, Seedlength: 512, Vector length: 1024, Vector type: BINARY, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
Normalizing and writing elemental vectors to elementalvectors
About to write 1368 vectors of dimension 1024 to Lucene format file: elementalvectors.bin ... finished writing vectors.
About to write 1368 vectors of dimension 1024 to Lucene format file: permtermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: elementalvectors.bin
Setting dimension of target config to: 1024
Setting vectortype of target config to: BINARY
Opening search vector store from file: permtermvectors.bin
Searching term vectors, searchtype PERMUTATION
Found vector for 'simon'
Building positional index, Lucene index: positional_index, Seedlength: 10, Vector length: 200, Vector type: COMPLEX, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
About to write 1368 vectors of dimension 200 to Lucene format file: drxntermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: drxntermvectors.bin
Setting vectortype of target config to: COMPLEX
Searching term vectors, searchtype SUM
Found vector for 'simon'
Building positional index, Lucene index: positional_index, Seedlength: 10, Vector length: 200, Vector type: REAL, Minimum term frequency: 0, Maximum term frequency: 2147483647, Number non-alphabet characters: 2147483647, Window radius: 5, Fields to index: [contents]
Initialized LuceneUtils from Lucene index in directory: positional_index
There are now elemental term vectors for 1368 terms (and 21 docs).
Processed 0 documents ... Created 1368 term vectors ...
Normalizing term vectors.
About to write 1368 vectors of dimension 200 to Lucene format file: termtermvectors.bin ... finished writing vectors.
Initialized LuceneUtils from Lucene index in directory: positional_index
Writing vectors incrementally to file docvectors.bin ... Finished writing vectors.
Opening query vector store from file: termtermvectors.bin
Opening search vector store from file: docvectors.bin
Searching term vectors, searchtype SUM
Found vector for 'bread'
Building PSI model from index in: predication_index
Minimum frequency = 0
Maximum frequency = 2147483647
Number non-alphabet characters = 20
Initialized LuceneUtils from Lucene index in directory: predication_index
About to write 825 vectors of dimension 1000 to Lucene format file: elementalvectors.bin ... finished writing vectors.
About to write 825 vectors of dimension 1000 to Lucene format file: semanticvectors.bin ... finished writing vectors.
About to write 6 vectors of dimension 1000 to Lucene format file: predicatevectors.bin ... finished writing vectors.
Finished writing vectors.
Opening query vector store from file: semanticvectors.bin
Setting dimension of target config to: 1000
Opening second query vector store from file: predicatevectors.bin
Opening search vector store from file: elementalvectors.bin
Searching term vectors, searchtype BOUNDPRODUCT
Found vector for 'mexico'
Found vector for 'HAS_CURRENCY'
Deleting file: elementalvectors.bin
Deleting file: predicatevectors.bin
Deleting file: semanticvectors.bin
